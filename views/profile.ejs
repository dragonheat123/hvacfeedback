<!-- views/profile.ejs -->
<!doctype html>
<html>

<style>
.slidecontainer {
    width: 100%;
}

.slider {
    -webkit-appearance: none;
    width: 100%;
    height: 25px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
}

.slider:hover {
    opacity: 1;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    background: #4CAF50;
    cursor: pointer;
}

.slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    background: #4CAF50;
    cursor: pointer;
}

.table{
padding: 1% 1% 1% 1%
}

.layout {
    position: relative;
    text-align: center;
    z-index = -1;
}

.weather {
    padding: 1% 1% 1% 1%
}

.area1 {
    position: absolute;
    top: 0%;
    left:0%;
    height: 32%;
    width: 39%;
     background: rgba(248, 255, 127, 0.3);
     text-align: center;
     padding: 0% 0% 0% 0%;
     
}
.area1:hover {
    position: absolute;
    top: 0%;
    left:0%;
    height: 32%;
    width: 39%;
     background:  rgba(248, 255, 127, 1);
     text-align: center;
     padding: 0% 0% 0% 0%;
     font-weight: bold;
     
}

.area2 {
    position: absolute;
    top: 32%;
    left:0%;
    height: 67%;
    width: 39%;
    background: rgba(127, 255, 175, 0.3);
     text-align: center;
     padding: 0% 0% 0% 0%
}

.area2:hover {
    position: absolute;
    top: 32%;
    left:0%;
    height: 67%;
    width: 39%;
    background: rgba(127, 255, 175, 1);
     text-align: center;
     padding: 0% 0% 0% 0%;
     font-weight: bold;
}

.area3 {
    position: absolute;
    top: 0%;
    left: 39%;
    height: 65%;
    width: 36%;
    background: rgba(221, 179, 255, 0.3);
     text-align: center;
     padding: 0% 0% 0% 0%
}

.area3:hover {
    position: absolute;
    top: 0%;
    left:39%;
    height: 65%;
    width: 36%;
    background: rgba(221, 179, 255, 1);
     text-align: center;
     padding: 0% 0% 0% 0%;
     font-weight: bold;
}

.area4 {
    position: absolute;
    top: 0%;
    left: 75%;
    height: 98%;
    width: 25%;
    background: rgba(140, 200, 255, 0.3);
     text-align: center;
     padding: 0% 0% 0% 0%
}

.area4:hover {
    position: absolute;
    top: 0%;
    left:75%;
    height: 98%;
    width: 25%;
    background: rgba(140, 200, 255, 1);
     text-align: center;
     padding: 0% 0% 0% 0%;
     font-weight: bold;
}

.area5 {
    position: absolute;
    top: 65%;
    left: 39%;
    height: 35%;
    width: 36%;
    background: rgba(255, 223, 221, 0.3);
     text-align: center;
     padding: 0% 0% 0% 0%
}

.area5:hover {
    position: absolute;
    top: 65%;
    left:39%;
    height: 35%;
    width: 36%;
    background: rgba(255, 223, 221, 1);
     text-align: center;
     padding: 0% 0% 0% 0%;
     font-weight: bold;
}



</style>




<head>
    <title>Node Authentication</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <style>
        body        { padding-top:80px; word-wrap:break-word; }
    </style>

</head>
<body>
<div class="container">

    <div class="page-header text-center">
        <h1><span><img src='../static/3M.png' alt="3M logo"  width="5.5%"></span>&nbspHVAC Feedback</h1>
        <div class="table"><%=smessage%></div>
        <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    </div>


    <!-- PROFILE INFORMATION -->
    <div class="col-sm-6">
        <!--div class="well"-->
            <h3><span class="fa fa-user"></span> User Profile</h3>
                <p>
                    <strong>id</strong>: <%= user.local.email %><br>
                </p>
            <h3><span class="fa fa-clock-o"></span> History</h3>
            <table width = 400%>
            <tr><td><strong>Date</strong></td><td><strong>Area</strong></td><td><strong>Preference</strong></td></tr> 
             <% userp.forEach(function(p) { %>
              	<tr><td height><%= p.date %></td><td><%= p.area %></td><td><%= p.pvalue %></td></tr>
             <% }); %>
             </table>
                
        <!--/div-->
        <h3><span class="fa fa-map-marker"></span> Current Weather</h3>
        <span class = "weather"><a href="http://www.wunderground.com/cgi-bin/findweather/getForecast?query=zmw:00000.204.48692&bannertypeclick=wu_clean2day" title="Kampong Pengkalan Petai, Singapore Weather Forecast" target="_blank"><img src="http://weathersticker.wunderground.com/weathersticker/cgi-bin/banner/ban/wxBanner?bannertype=wu_clean2day_metric_cond&airportcode=WSSL&ForcedCity=Kampong Pengkalan Petai&ForcedState=Singapore&wmo=48692&language=EN" alt="Find more about Weather in Kampong Pengkalan Petai, SR" width="300" /></a><br><a href="http://www.wunderground.com/cgi-bin/findweather/getForecast?query=zmw:00000.204.48692&bannertypeclick=wu_clean2day" title="Get latest Weather Forecast updates" style="font-family: sans-serif; font-size: 12px" target="_blank">Click for weather forecast</a></span>
        
    </div>
    
    <!-- SUBMIT FORM -->
    
    <div class="col-sm-6">
    <h3><span class="fa fa-clipboard"></span> Submit Feedback!</h3>
    <form action="/profile" method="post">
    <div class ="row">
    <p><strong>Click to select area, Hover to view more information:</strong><p>
    <div class="layout">
    <img src='../static/layout.png' alt="Office Layout"  width="100%">
     <div class="area1" id="area1" value="1" onclick="clickArea(this)">Area 1</br>Current Temp: 25.6°C</div>
      <div class="area2" id="area2" value="2" onclick="clickArea(this)">Area 2</br>Current Temp: 24.6°C</div>
       <div class="area3" id="area3" value="3" onclick="clickArea(this)">Area 3</br>Current Temp: 26.2°C</div>
        <div class="area4" id="area4" value="4" onclick="clickArea(this)">Area 4</br>Current Temp: 23.6°C</div>
         <div class="area5" id="area5" value="5" onclick="clickArea(this)">Area 5</br>Current Temp: 25.6°C</div>
    </div>
    
                <div class="form-group">
                <label>Area</label>
                <div id="adiv">Select your area...</div>
                <input type="hidden" id="ainput" class="form-control" name="area">
            </div>
    
        
        <input type="hidden" name="user" value = <%= user.local.email %>>
        <input type="hidden" name="timestamp" value= <%= Date.now() %>>
        <%var date = new Date().toLocaleDateString({ timeZone: 'Asia/Shanghai'}) %>
        <%var time = new Date().toLocaleTimeString({ timeZone: 'Asia/Shanghai'}) %>
        <input type="hidden" id="date" name="date" value = <%= String(date)+",\xa0"+String(time) %>>
    <p><strong>Select Comfort Level: (cold:-3 to hot:3)</strong></p>
        <div class="slidecontainer">
        <input type="range" min="-3" max="3" value="0" class="slider" id="myRange" name="pvalue">
          <p>Value: <span id="demo"></span></p>
        </div>
        
        <script>
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");

        output.innerHTML = slider.value;
        
        slider.oninput = function() {
          output.innerHTML = this.value;
          
        }
        
        function clickArea(e) {
        document.getElementById("ainput").value = e.getAttribute('value');
        document.getElementById("adiv").innerHTML = e.getAttribute('value');
        }        
        
        </script>
        

    
            <button id="submit" type="submit" class="btn btn-warning btn-lg">Submit</button>
     </form>    
                
        </div>

    </div>
            
    </div>





     

</div>

</body>
</html>
